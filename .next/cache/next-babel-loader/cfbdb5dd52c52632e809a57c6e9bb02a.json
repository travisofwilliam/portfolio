{"ast":null,"code":"const axios = require('axios');\n\nexport default ((req, res) => {\n  const {\n    senderName,\n    senderEmail,\n    message\n  } = req.body;\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      res.send('GET method not needed');\n      break;\n\n    case 'POST':\n      axios.post('https://api.sendgrid.com/v3/mail/send', {\n        personalizations: [{\n          to: [{\n            email: \"travis.v.williams@gmail.com\",\n            name: \"Travis Williams\"\n          }],\n          subject: \"Test\"\n        }],\n        content: [{\n          type: \"text/plain\",\n          value: message\n        }],\n        from: {\n          email: \"travis.v.williams@gmail.com\",\n          name: \"Travis Williams\"\n        },\n        reply_to: {\n          email: senderEmail,\n          name: senderName\n        }\n      }, {\n        headers: {\n          Authorization: 'Bearer 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',\n          'Content-type': 'application/json'\n        }\n      }).then(res => console.log(res)).catch(err => console.log(err));\n      break;\n\n    default:\n      res.setHeader('Allow', ['GET', 'POST']);\n  }\n\n  res.send('it worked');\n});","map":{"version":3,"sources":["/Users/traviswilliams/Desktop/portfolio/pages/api/send.js"],"names":["axios","require","req","res","senderName","senderEmail","message","body","method","send","post","personalizations","to","email","name","subject","content","type","value","from","reply_to","headers","Authorization","then","console","log","catch","err","setHeader"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,WAAd;AAA2BC,IAAAA;AAA3B,MAAuCJ,GAAG,CAACK,IAAjD;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAaN,GAAnB;;AAEA,UAAQM,MAAR;AACE,SAAK,KAAL;AACEL,MAAAA,GAAG,CAACM,IAAJ,CAAS,uBAAT;AACA;;AACF,SAAK,MAAL;AACET,MAAAA,KAAK,CAACU,IAAN,CAAW,uCAAX,EAAoD;AAClDC,QAAAA,gBAAgB,EACd,CACE;AACEC,UAAAA,EAAE,EAAE,CACF;AACEC,YAAAA,KAAK,EAAE,6BADT;AAEEC,YAAAA,IAAI,EAAE;AAFR,WADE,CADN;AAOEC,UAAAA,OAAO,EAAE;AAPX,SADF,CAFgD;AAalDC,QAAAA,OAAO,EACL,CACE;AACEC,UAAAA,IAAI,EAAE,YADR;AAEEC,UAAAA,KAAK,EAAEZ;AAFT,SADF,CAdgD;AAoBlDa,QAAAA,IAAI,EACJ;AACEN,UAAAA,KAAK,EAAE,6BADT;AAEEC,UAAAA,IAAI,EAAE;AAFR,SArBkD;AAyBlDM,QAAAA,QAAQ,EACR;AACEP,UAAAA,KAAK,EAAER,WADT;AAEES,UAAAA,IAAI,EAAEV;AAFR;AA1BkD,OAApD,EA8BG;AACDiB,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAE,8EADR;AAEP,0BAAgB;AAFT;AADR,OA9BH,EAoCGC,IApCH,CAoCQpB,GAAG,IAAIqB,OAAO,CAACC,GAAR,CAAYtB,GAAZ,CApCf,EAqCGuB,KArCH,CAqCSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CArChB;AAsCA;;AACF;AACExB,MAAAA,GAAG,CAACyB,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,EAAQ,MAAR,CAAvB;AA7CJ;;AAgDAzB,EAAAA,GAAG,CAACM,IAAJ,CAAS,WAAT;AACD,CArDD","sourcesContent":["const axios = require('axios')\n\nexport default (req, res) => {\n  const { senderName, senderEmail, message } = req.body\n  const { method } = req\n\n  switch (method) {\n    case 'GET':\n      res.send('GET method not needed')\n      break\n    case 'POST':\n      axios.post('https://api.sendgrid.com/v3/mail/send', {\n        personalizations:\n          [\n            {\n              to: [\n                {\n                  email: \"travis.v.williams@gmail.com\",\n                  name: \"Travis Williams\"\n                }\n              ],\n              subject: \"Test\"\n            }\n          ],\n        content:\n          [\n            {\n              type: \"text/plain\",\n              value: message\n            }\n          ],\n        from:\n        {\n          email: \"travis.v.williams@gmail.com\",\n          name: \"Travis Williams\"\n        },\n        reply_to:\n        {\n          email: senderEmail,\n          name: senderName\n        }\n      }, {\n        headers: {\n          Authorization: 'Bearer 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',\n          'Content-type': 'application/json'\n        }\n      })\n        .then(res => console.log(res))\n        .catch(err => console.log(err))\n      break\n    default:\n      res.setHeader('Allow', ['GET', 'POST'])\n  }\n\n  res.send('it worked')\n}"]},"metadata":{},"sourceType":"module"}